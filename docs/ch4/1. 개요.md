# 4부. 재사용 가능한, 모듈적인 코드로

대규모 소프트웨어 프로젝트에서 매우 중요한 특성 중 하나인 모듈성은 프로그램을 더 작고 독립적인 부분으로 나눌 수 있는 정도를 뜻한다.

코드가 그 자체로 모듈이 되게 하려면 메서드 체인보다 조금 더 유연한 방식을 채택해야 한다. 곧 합성(혹은 파이프라인)이다.

앞에서 살펴봤던 함수 체이닝 같은 경우에도 FP 특유의 선언적이고도 모듈적인 코드를 작성할 수 있게 해주었다.

그러나 메서드 체인도 합성에 비하면 유연하지 못한 방식이다. 합성의 경우에는 함수의 출신에 관계 없이 어떤 함수라도 합성하여 사용할 수 있게 해준다.

그러나 함수 합성이 가능하게 하려면 몇 가지 합성 요건을 만족해야 한다.
- 형식: 한 함수의 반환 형식과 수신 함수의 인수 형식이 일치해야 한다.
- 수신 함수는 앞 단계 함수가 반환한 값을 처리하기 위해 적어도 하나 이상의 매개변수를 선언해야 한다.

다음은 함수 체이닝과 함수 합성 간의 차이를 보여주는 이미지다. 함수 체이닝에는 배열이라는 제한된 그릇(이 예제에서는)이 전제되어야 한다는 것을 주목하자.

**함수 체이닝**
![function chaining](../../images/function%20chaining.png)

**함수 합성**
![function compose](../../images/function%20compose.png)

그런데 우리가 앞에서 살펴보았던 것처럼 함수를 만드는 데에 있어서 되도록이면 함수의 매개변수를 작게 유지하고, 하는 일도 작게 유지하는 것이 좋다. 그런데 만약에 함수의 매개변수가 2개 이상이 되면 어떻게 할까? 그리고 2개 이상일 때에는 어떻게 합성을 이어나갈 수 있을까? 만약에 2개 이상의 합성을 명확하게 이어나가려면 2개의 매개변수를 받는 함수의 이전 함수가 출력을 두개로 반환해야 할 것이다. 이것을 적절하게 해결할 수 있는 방법에는 무엇이 있을까?

이에는 다음과 같은 방법들이 있다.
- 커링 (currying)
- 부분적용 (partial)