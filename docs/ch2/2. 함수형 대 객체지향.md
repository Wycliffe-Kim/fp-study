# 함수형 대 객체지향

함수형/객체지향 프로그래밍 모두 중대형 시스템 개발에 사용 가능하다. 자바스크립트와 파이썬 둘다 이 둘을 자유자재로 조합해서 사용할 수 있다. 다만 그 선을 어느 정도로 그을지는 개발자의 몫이다. 그러나 다음의 진술은 어느 정도의 도움을 줄 것이라 생각한다.

> *한편으론(OOP) 애플리케이션을 구성하는 형식 간의 관계가 자연스러운 풍성한 도메인 모델을 손에 넣을 수 있고, 다른 한편으론(FP) 이들 형식을 가지고 어떤 일을 할 수 있는 순수함수까지 거머쥘 수 있다.*

명령형 코드로 이루어진 객체지향 애플리케이션은 인스턴스 메서드를 통해 가변 상태를 노출하고 조작할 수 있도록, 객체 기반의 캡슐화에 지나치게 의존한 채 가변 상태의 무결성을 유지한다. 결국 객체의 데이터와 잘게 나뉜 기능이 단단히 유착되어 응집도가 높은 패키지가 형성된다. 이는 객체지향 프로그램이 추구하는 목적이자, 모든 추상화의 주요 형태가 객체인 이유이기도 하다.

한편 함수형 프로그램은 호출자로부터 데이터를 숨길 필요 없이 소규모의, 아주 단순한 자료형만을 대상으로 움직인다. 만사가 불변이니 얼마든지 객체를 직접 만지작거려도 되지만 객체 스코프 밖에 위치한 함수를 거치는 것이 좋다. 즉 데이터와 실제 기능을 느슨하게 결합하는 것이다. 객체지향의 메서드와는 다르게 함수형의 함수는 여러 자료형에 두루 적용 가능하게끔 굵은 단위로 함수를 나눈다.

간단한 예를 보자.

``` javascript
// javascript

// IP
class Person {
  constructor(firstname, lastname) {
    this.firstname = firstname;
    this.lastname = lastname;
  }

  get fullname() {
    return `${this.firstname}, ${this.lastname}`;
  }
}
const person = new Person('Alonzo', 'Church');
person.fullname;

// FP
class Person {
  constructor(firstname, lastname) {
    this.firstname = firstname;
    this.lastname = lastname;
  }
}
const fullname = (person) => `${this.firstname}, ${this.lastname}`;
const person = new Person('Alonzo', 'Church');
fullname(person)
```

``` python
# python

# IP
class Person:
    def __init__(self, firstname, lastname):
        self.fistname = firstname
        self.lastname = lastname

    @property
    def fullname(self):
        return f'{self.firstname}, {self.lastname}'
person = Person('Alonzo', 'Church')
person.fullname

# FP
class Person:
    def __init__(self, firstname, lastname):
        self.fistname = firstname
        self.lastname = lastname

fullname = lambda person: f'{self.firstname}, {self.lastname}'
person = Person('Alonzo', 'Church')
fullname(person)
```

이와 같이 FP로 구성하면 `Person`에서 파생된 객체 모두에 대해서 `fullname` 함수는 잘 작동한다.

사실 OOP에서 하는 것처럼 메서드 내부에서 `this`를 통해 데이터에 접근하면 부수효과를 유발할 수 있다. 그러나 FP는 그렇지 않기 때문에 부수효과에서 자유로울 수 있다.
